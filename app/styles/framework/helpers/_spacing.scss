/*----------------------------------------------------------------------------*\
    #SPACING HELPERS
\*----------------------------------------------------------------------------*/

@mixin ui-helper__spacing(
    $attrs: ( padding, margin ),    // Values: margin, padding
    $responsive: $responsive,       // Values: false, both, up, only
    $steps: (                       // Array of integers (pixel values)
        8, 16, 24, 32, 40, 48
    ),
    $directions: (                  // Values: top, bottom, left, right, top-bottom, left-right
        top,
        bottom,
        left,
        right,
        top-bottom,
        left-right
    )
) {

    // Check first if we need to provide responsive helpers
    @if $responsive != false {

        @include breakpoints( $responsive ) {

            @include create-helpers-spacing( $attrs, $steps, $directions, $break );
        }

    // If not responsive, just run the general loop
    } @else {

        @include create-helpers-spacing( $attrs, $steps, $directions, $break: '' );
    }
}

@mixin create-helpers-spacing( $attrs, $steps, $directions, $break ) {

    // Create helpers for each step defined
    @each $step in $steps {

        // Iterate through each attribute (padding, margin)
        @each $attr in $attrs {

            // Get the first character of the attribute for our helper classes (ie. 'p' from 'padding')
            $attrClass: str-slice($attr, 1, 1);

            // ie. .p-1@m
            #{chain('.' + $attrClass + '-' + $step + $break) } {
                #{ $attr }: rem($step); // ie. padding: rem(16);
            }

            // Iterate through each direction
            @each $direction in $directions {

                // Get the first character of the direction (ie. 'l' from 'left')
                $dir: str-slice($direction, 1, 1);

                // If direction is top & bottom
                @if $direction == top-bottom {

                    // Make sure the step is greater than 0, to prevent p-0-0 output
                    @if $step > 0 {

                        // ie. .p-1-0@m

                        #{chain('.' + $attrClass + '-' + $step + '-0' + $break) } {
                            #{ $attr }: rem($step) 0; // ie. padding: rem(16) 0
                        }
                    }

                // If direction is left & right
                } @else if $direction == left-right {

                    // Make sure the step is greater than 0, to prevent p-0-0 output
                    @if $step > 0 {

                        // ie. .p-0-1@em

                        #{chain('.' + $attrClass + '-0-' + $step + $break) } {
                            #{ $attr }: 0 rem($step); // ie. padding: 0 rem(16)
                        }
                    }

                // All others
                } @else {

                    // ie. .p-l-1@m

                    #{chain('.' + $attrClass + '-' + $dir + '-' + $step + $break) } {
                        #{ $attr }-#{ $direction }: rem($step); // ie. padding-left: rem(16)
                    }
                }
            }
        }
    }
}